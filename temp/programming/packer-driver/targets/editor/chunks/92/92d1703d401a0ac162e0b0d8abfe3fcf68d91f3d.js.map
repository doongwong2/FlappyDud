{"version":3,"sources":["file:///C:/Users/User/Desktop/programs/FlappyDud/assets/Scripts/GameCtrl.ts"],"names":["_decorator","Component","CCInteger","input","Input","KeyCode","director","Ground","Results","Bird","ccclass","property","GameCtrl","type","tooltip","onLoad","initListener","result","resetScore","pause","on","EventType","KEY_DOWN","onKeyDown","event","keyCode","KEY_A","gameOver","KEY_P","addScore","KEY_Q","resetGame","startGame","hideResults","resume","showResults"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAkBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAsBC,MAAAA,O,OAAAA,O;AAASC,MAAAA,Q,OAAAA,Q;;AAG/EC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OAJH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;0BAOjBY,Q,WADZF,OAAO,CAAC,UAAD,C,UAGHC,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,4BADE;AAENC,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,8BADE;AAENC,QAAAA,OAAO,EAAC;AAFF,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,wBADE;AAENC,QAAAA,OAAO,EAAC;AAFF,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEX;AADA,OAAD,C,UAKRS,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEX;AADA,OAAD,C,2BA1Bb,MACaU,QADb,SAC8BX,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAgCpCc,QAAAA,MAAM,GAAE;AACJ,eAAKC,YAAL;AAEA,eAAKC,MAAL,CAAYC,UAAZ;AAEAZ,UAAAA,QAAQ,CAACa,KAAT;AACH;;AAEDH,QAAAA,YAAY,GAAE;AACVb,UAAAA,KAAK,CAACiB,EAAN,CAAShB,KAAK,CAACiB,SAAN,CAAgBC,QAAzB,EAAmC,KAAKC,SAAxC,EAAmD,IAAnD;AACH;;AAEDA,QAAAA,SAAS,CAACC,KAAD,EAAsB;AAC3B,kBAAOA,KAAK,CAACC,OAAb;AACI,iBAAKpB,OAAO,CAACqB,KAAb;AACI,mBAAKC,QAAL;AACA;;AAEJ,iBAAKtB,OAAO,CAACuB,KAAb;AACI,mBAAKX,MAAL,CAAYY,QAAZ;AACA;;AAEJ,iBAAKxB,OAAO,CAACyB,KAAb;AACI,mBAAKC,SAAL;AACA;AAXR;AAcH;;AAEDC,QAAAA,SAAS,GAAE;AACP,eAAKf,MAAL,CAAYgB,WAAZ;AACA3B,UAAAA,QAAQ,CAAC4B,MAAT;AACH;;AAEDP,QAAAA,QAAQ,GAAE;AACN,eAAKV,MAAL,CAAYkB,WAAZ;AACA7B,UAAAA,QAAQ,CAACa,KAAT;AACH;;AAEDY,QAAAA,SAAS,GAAE;AACP,eAAKd,MAAL,CAAYC,UAAZ;AAEA,eAAKc,SAAL;AACH;;AA3EmC,O;;;;;;;;;;;;;;;;;;;;iBAuBb,G;;;;;;;iBAKI,G","sourcesContent":["import { _decorator, Component, Node , CCInteger, input, Input, EventKeyboard, KeyCode, director} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { Ground } from './Ground';\r\nimport { Results } from './Results';\r\nimport { Bird } from './Bird';\r\n\r\n@ccclass('GameCtrl')\r\nexport class GameCtrl extends Component {\r\n\r\n    @property({\r\n        type: Ground,\r\n        tooltip: 'this is ground'\r\n    })\r\n    public ground: Ground\r\n\r\n    @property({\r\n        type: Results,\r\n        tooltip:'results here'\r\n    })\r\n    public result: Results\r\n\r\n    @property({\r\n        type: Bird,\r\n        tooltip:'bird here'\r\n    })\r\n    public bird: Bird\r\n\r\n    @property({\r\n        type: CCInteger\r\n    })\r\n    public speed: number = 300;\r\n\r\n    @property({\r\n        type: CCInteger\r\n    })\r\n    public pipeSpeed: number = 200;\r\n\r\n    \r\n\r\n    onLoad(){\r\n        this.initListener();\r\n\r\n        this.result.resetScore();\r\n\r\n        director.pause();\r\n    }\r\n\r\n    initListener(){\r\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this)\r\n    }\r\n\r\n    onKeyDown(event: EventKeyboard){\r\n        switch(event.keyCode){\r\n            case KeyCode.KEY_A:\r\n                this.gameOver();\r\n                break;\r\n\r\n            case KeyCode.KEY_P:\r\n                this.result.addScore();\r\n                break;\r\n\r\n            case KeyCode.KEY_Q:\r\n                this.resetGame();\r\n                break;\r\n            \r\n        }\r\n    }\r\n\r\n    startGame(){\r\n        this.result.hideResults();\r\n        director.resume();\r\n    }\r\n    \r\n    gameOver(){\r\n        this.result.showResults();\r\n        director.pause();\r\n    }\r\n\r\n    resetGame(){\r\n        this.result.resetScore();\r\n\r\n        this.startGame();\r\n    }\r\n}\r\n\r\n\r\n"]}