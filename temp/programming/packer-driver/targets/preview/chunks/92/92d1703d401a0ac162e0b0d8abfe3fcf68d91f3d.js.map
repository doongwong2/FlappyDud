{"version":3,"sources":["file:///C:/Users/User/Desktop/programs/FlappyDud/assets/Scripts/GameCtrl.ts"],"names":["_decorator","Component","Node","CCInteger","input","Input","KeyCode","director","Ground","Results","Bird","ccclass","property","GameCtrl","type","tooltip","onLoad","initListener","result","resetScore","pause","on","EventType","KEY_DOWN","onKeyDown","node","TOUCH_START","bird","fly","event","keyCode","KEY_A","gameOver","KEY_P","addScore","KEY_Q","resetGame","resetBird","startGame","hideResults","resume","showResults","passPipe"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAOC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAsBC,MAAAA,O,OAAAA,O;AAASC,MAAAA,Q,OAAAA,Q;;AAG/EC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OAJH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBZ,U;;0BAQjBa,Q,WADZF,OAAO,CAAC,UAAD,C,UAGHC,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,4BADE;AAENC,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,8BADE;AAENC,QAAAA,OAAO,EAAC;AAFF,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI;AAAA;AAAA,wBADE;AAENC,QAAAA,OAAO,EAAC;AAFF,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEX;AADA,OAAD,C,UAKRS,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEX;AADA,OAAD,C,2BA1Bb,MACaU,QADb,SAC8BZ,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAgCpCe,QAAAA,MAAM,GAAE;AACJ,eAAKC,YAAL;AAEA,eAAKC,MAAL,CAAYC,UAAZ;AAEAZ,UAAAA,QAAQ,CAACa,KAAT;AACH;;AAEDH,QAAAA,YAAY,GAAE;AACVb,UAAAA,KAAK,CAACiB,EAAN,CAAShB,KAAK,CAACiB,SAAN,CAAgBC,QAAzB,EAAmC,KAAKC,SAAxC,EAAmD,IAAnD;AAEA,eAAKC,IAAL,CAAUJ,EAAV,CAAanB,IAAI,CAACoB,SAAL,CAAeI,WAA5B,EAAwC,MAAM;AAC1C,iBAAKC,IAAL,CAAUC,GAAV;AACH,WAFD;AAGH;;AAEDJ,QAAAA,SAAS,CAACK,KAAD,EAAsB;AAC3B,kBAAOA,KAAK,CAACC,OAAb;AACI,iBAAKxB,OAAO,CAACyB,KAAb;AACI,mBAAKC,QAAL;AACA;;AAEJ,iBAAK1B,OAAO,CAAC2B,KAAb;AACI,mBAAKf,MAAL,CAAYgB,QAAZ;AACA;;AAEJ,iBAAK5B,OAAO,CAAC6B,KAAb;AACI,mBAAKC,SAAL;AACA,mBAAKT,IAAL,CAAUU,SAAV;AACA;AAZR;AAeH;;AAEDC,QAAAA,SAAS,GAAE;AACP,eAAKpB,MAAL,CAAYqB,WAAZ;AACAhC,UAAAA,QAAQ,CAACiC,MAAT;AACH;;AAEDR,QAAAA,QAAQ,GAAE;AACN,eAAKd,MAAL,CAAYuB,WAAZ;AACAlC,UAAAA,QAAQ,CAACa,KAAT;AACH;;AAEDgB,QAAAA,SAAS,GAAE;AACP,eAAKlB,MAAL,CAAYC,UAAZ;AAEA,eAAKmB,SAAL;AACH;;AAEDI,QAAAA,QAAQ,GAAE;AACN,eAAKxB,MAAL,CAAYgB,QAAZ;AACH;;AApFmC,O;;;;;;;;;;;;;;;;;;;;iBAuBb,G;;;;;;;iBAKI,G","sourcesContent":["import { _decorator, Component, Node , CCInteger, input, Input, EventKeyboard, KeyCode, director} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { Ground } from './Ground';\r\nimport { Results } from './Results';\r\nimport { Bird } from './Bird';\r\nimport { Pipes } from './Pipes';\r\n\r\n@ccclass('GameCtrl')\r\nexport class GameCtrl extends Component {\r\n\r\n    @property({\r\n        type: Ground,\r\n        tooltip: 'this is ground'\r\n    })\r\n    public ground: Ground\r\n\r\n    @property({\r\n        type: Results,\r\n        tooltip:'results here'\r\n    })\r\n    public result: Results\r\n\r\n    @property({\r\n        type: Bird,\r\n        tooltip:'bird here'\r\n    })\r\n    public bird: Bird\r\n\r\n    @property({\r\n        type: CCInteger\r\n    })\r\n    public speed: number = 300;\r\n\r\n    @property({\r\n        type: CCInteger\r\n    })\r\n    public pipeSpeed: number = 200;\r\n\r\n    \r\n\r\n    onLoad(){\r\n        this.initListener();\r\n\r\n        this.result.resetScore();\r\n\r\n        director.pause();\r\n    }\r\n\r\n    initListener(){\r\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this)\r\n\r\n        this.node.on(Node.EventType.TOUCH_START,() => {\r\n            this.bird.fly();\r\n        });\r\n    }\r\n\r\n    onKeyDown(event: EventKeyboard){\r\n        switch(event.keyCode){\r\n            case KeyCode.KEY_A:\r\n                this.gameOver();\r\n                break;\r\n\r\n            case KeyCode.KEY_P:\r\n                this.result.addScore();\r\n                break;\r\n\r\n            case KeyCode.KEY_Q:\r\n                this.resetGame();\r\n                this.bird.resetBird();\r\n                break;\r\n            \r\n        }\r\n    }\r\n\r\n    startGame(){\r\n        this.result.hideResults();\r\n        director.resume();\r\n    }\r\n    \r\n    gameOver(){\r\n        this.result.showResults();\r\n        director.pause();\r\n    }\r\n\r\n    resetGame(){\r\n        this.result.resetScore();\r\n\r\n        this.startGame();\r\n    }\r\n\r\n    passPipe(){\r\n        this.result.addScore();\r\n    }\r\n}\r\n\r\n\r\n"]}